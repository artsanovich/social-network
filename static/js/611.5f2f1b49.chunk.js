"use strict";(self.webpackChunksocial=self.webpackChunksocial||[]).push([[611],{8611:function(t,e,s){s.r(e),s.d(e,{default:function(){return _}});var n=s(5671),a=s(3144),i=s(136),r=s(7277),o=s(1413),u=s(2791),c=s(420),d="ProfileInfo_descriptionBlock__XBXuJ",p=s(184),x=function(t){(0,i.Z)(s,t);var e=(0,r.Z)(s);function s(){var t;(0,n.Z)(this,s);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={editMode:!1},t.activateEditMode=function(){t.setState({editMode:!0,statusText:t.props.statusText})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateStatusText(t.state.statusText)},t.onStatusTextChange=function(e){t.setState({statusText:e.currentTarget.value})},t}return(0,a.Z)(s,[{key:"componentDidUpdate",value:function(t,e){t.statusText!==this.props.statusText&&this.setState({statusText:this.props.status})}},{key:"render",value:function(){return(0,p.jsxs)("div",{children:[!this.state.editMode&&(0,p.jsx)("div",{onClick:this.activateEditMode,children:(0,p.jsx)("span",{children:this.props.statusText||"no status"})}),this.state.editMode&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{onChange:this.onStatusTextChange,autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.statusText})})]})}}]),s}(u.Component),l=x,h=function(t){return t.profile?(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{}),(0,p.jsxs)("div",{className:d,children:[(0,p.jsx)("img",{src:t.profile.photos.large,alt:""}),(0,p.jsx)(l,{statusText:t.statusText,updateStatusText:t.updateStatusText})]})]}):(0,p.jsx)(c.Z,{})},f=s(6508),v={postsBlock:"MyPosts_postsBlock__z6qjm"},T="Post_item__c7nSS",j=function(t){return(0,p.jsxs)("div",{className:T,children:[(0,p.jsx)("img",{src:"https://cakeshop.com.ua/images/Wh69BfiEzEE/h:1000/watermark:0.8:ce:0:0:1/bG9jYWw/6Ly8vY2FrZXNob3AuY29tLnVhL3B1YmxpY19odG1sL3N0b3JhZ2UvYXBwL3B1YmxpYy9pbWcvcHJvZHVjdC80MTA4XzEuanBn",alt:""}),(0,p.jsx)("div",{children:t.message})]})},m=s(5705),g=s(7103),P=g.Ry().shape({newPostText:g.Z_().min(10,"Must be longer than 5 characters").max(600,"Must be shorter than 600 characters").required("Required")}),S=function(t){return(0,p.jsxs)("div",{children:[(0,p.jsx)("h1",{children:"Add Message"}),(0,p.jsx)(m.J9,{initialValues:{newPostText:""},validate:function(t){var e={};return t.newPostText||(e.newPostText="Required"),e},onSubmit:function(e){!function(e){t.addPost(e.newPostText)}(e)},validationSchema:P,children:function(){return(0,p.jsxs)(m.l0,{children:[(0,p.jsx)("div",{children:(0,p.jsx)(m.gN,{type:"text",name:"newPostText",placeholder:"add post..."})}),(0,p.jsx)(m.Bc,{name:"newPostText",component:"div"}),(0,p.jsx)("button",{type:"submit",children:"Send"})]})}})]})},Z=function(t){var e=t.posts.map((function(t){return(0,p.jsx)(j,{message:t.message,likesCount:t.likesCount})}));return(0,p.jsxs)("div",{className:v.postsBlock,children:[(0,p.jsx)("h3",{children:"My Posts"}),(0,p.jsx)("div",{children:(0,p.jsx)(S,(0,o.Z)({},t))}),(0,p.jsx)("div",{className:v.posts,children:e})]})},k=s(3531),M=(0,k.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t((0,f.WA)(e))}}}))(Z),w=function(t){return(0,p.jsxs)("div",{children:[(0,p.jsx)(h,{profile:t.profile,statusText:t.statusText,updateStatusText:t.updateStatusText}),(0,p.jsx)(M,{store:t.store})]})},y=s(5772),b=(s(5241),s(8277)),B=s(7781);var C=function(t){(0,i.Z)(s,t);var e=(0,r.Z)(s);function s(){return(0,n.Z)(this,s),e.apply(this,arguments)}return(0,a.Z)(s,[{key:"componentDidMount",value:function(){var t=this.props.router.params.userId;t||(t=27158),this.props.setUserProfile(t),this.props.getStatusText(t)}},{key:"render",value:function(){return(0,p.jsx)(w,(0,o.Z)((0,o.Z)({},this.props),{},{profile:this.props.profile,statusText:this.props.statusText,updateStatusText:this.props.updateStatusText}))}}]),s}(u.Component),_=(0,B.qC)((0,k.$j)((function(t){return{profile:t.profilePage.profile,statusText:t.profilePage.statusText}}),{setUserProfile:f.nA,getStatusText:f.Tx,updateStatusText:f.Jb}),(function(t){return function(e){var s={params:(0,y.UO)()};return(0,p.jsx)(t,(0,o.Z)((0,o.Z)({},e),{},{router:s}))}}),b.e)(C)}}]);
//# sourceMappingURL=611.5f2f1b49.chunk.js.map