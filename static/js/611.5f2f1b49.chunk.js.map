{"version":3,"file":"static/js/611.5f2f1b49.chunk.js","mappings":"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","sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/ProfileInfo/ProfileStatus/ProfileStatusСlass.js","components/Profile/ProfileInfo/ProfileInfo.js","webpack://social/./src/components/Profile/MyProsts/Post/MyPosts.module.css?f202","webpack://social/./src/components/Profile/MyProsts/Post/Post.module.css?5936","components/Profile/MyProsts/Post/Post.js","components/FormValidation/AddNewPostFormSchema.js","components/Profile/MyProsts/Post/MyPosts.js","components/Profile/MyProsts/Post/MyPostsContainer.js","components/Profile/Profile.js","components/Profile/ProfileContainer.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__XBXuJ\"};","import React from 'react'\nimport classes from './ProfileStatus.module.css'\n\n\nclass ProfileStatus extends React.Component {\n\n  state = {\n    editMode: false\n  }\n\n  activateEditMode = () => {\n    this.setState({\n      editMode: true,\n      statusText: this.props.statusText\n    })\n  }\n\n  deactivateEditMode = () => {\n    this.setState({\n      editMode: false\n    })\n    this.props.updateStatusText(this.state.statusText)\n  }\n\n  onStatusTextChange = (e) => {\n    this.setState({\n      statusText: e.currentTarget.value\n    }) \n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if(prevProps.statusText !== this.props.statusText) {\n      this.setState({\n        statusText: this.props.status\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {!this.state.editMode &&\n        <div onClick={this.activateEditMode}>\n          <span>{this.props.statusText || \"no status\"}</span>\n        </div>\n        }\n        {this.state.editMode &&\n        <div>\n          <input onChange={this.onStatusTextChange} autoFocus={true} onBlur={this.deactivateEditMode} value={this.state.statusText} />\n        </div>\n        } \n      </div>\n    )\n  }\n}\n\nexport default ProfileStatus;","import Preloader from '../../common/Preloader/Preloader';\nimport classes from './ProfileInfo.module.css'\nimport ProfileStatus from './ProfileStatus/ProfileStatusСlass';\n\n\nconst ProfileInfo = (props) => {\n\n    if (!props.profile) {\n\n      return <Preloader />\n    }\n\n    return (\n      <div>\n        <div>\n         {/* <img src=\"https://media.az/photo/880x470/2022/07/27/1658946371_21618.jpg\" alt=\"\" /> */}\n        </div>\n        <div className={classes.descriptionBlock}>\n          <img src={props.profile.photos.large} alt=\"\" />\n          <ProfileStatus statusText={props.statusText} updateStatusText={props.updateStatusText}/>\n        </div>\n      </div>\n    )\n}\n\nexport default ProfileInfo;","// extracted by mini-css-extract-plugin\nexport default {\"postsBlock\":\"MyPosts_postsBlock__z6qjm\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__c7nSS\"};","import classes from './Post.module.css'\n\n\nconst Post = (props) => {\n  return (\n    <div className={classes.item}>\n        <img src=\"https://cakeshop.com.ua/images/Wh69BfiEzEE/h:1000/watermark:0.8:ce:0:0:1/bG9jYWw/6Ly8vY2FrZXNob3AuY29tLnVhL3B1YmxpY19odG1sL3N0b3JhZ2UvYXBwL3B1YmxpYy9pbWcvcHJvZHVjdC80MTA4XzEuanBn\" alt=\"\" />\n        <div>{props.message}</div>\n    </div>\n  )\n}\n\nexport default Post;","import * as Yup from \"yup\";\n\nconst AddNewPostFormSchema = Yup.object().shape({\n    newPostText: Yup.string()\n        .min(10, \"Must be longer than 5 characters\")\n        .max(600, \"Must be shorter than 600 characters\")\n        .required(\"Required\"),\n});\nexport default AddNewPostFormSchema;\n","import React from 'react';\nimport classes from './MyPosts.module.css'\nimport { updateNewPostTextCreator, addPostCreator } from '../../../../redux/profileReducer';\nimport Post from './Post';\nimport {Formik, Form, Field, ErrorMessage} from \"formik\";\nimport addNewPostFormSchema from \"../../../FormValidation/AddNewPostFormSchema\";\n\n\nconst MyPosts = (props) => {\n\n  const postsElements = props.posts.map(p => <Post message={p.message} likesCount={p.likesCount} />);\n\n  const newPostElement = React.createRef();\n\n  const onPostChange = () => {\n    const text = newPostElement.current.value;\n    props.updateNewPostText(text);\n  }\n\n  return (\n    <div className={classes.postsBlock}>\n      <h3>My Posts</h3>\n      <div>\n        <AddNewPostForm {...props} />\n      </div>\n      <div className={classes.posts}>\n        { postsElements }\n      </div>\n    </div>\n  )\n}\n\nconst AddNewPostForm = (props) => {\n\n  const onAddPost = (values) => {\n    props.addPost(values.newPostText);\n  }\n  \n  return (\n      <div>\n          <h1>Add Message</h1>\n          <Formik\n              initialValues={{newPostText: \"\"}}\n              validate={values => {\n                  const errors = {};\n                  if (!values.newPostText) {\n                      errors.newPostText = 'Required';\n                  } \n                  return errors;\n              }}\n              onSubmit={(values) => {\n                onAddPost(values)\n              }}\n              validationSchema={addNewPostFormSchema}>\n              {() => (\n                  <Form>\n                      <div>\n                          <Field type={'text'} name={'newPostText'} placeholder={'add post...'}/>\n                      </div>\n                      <ErrorMessage name=\"newPostText\" component=\"div\"/>\n\n                      <button type={'submit'}>Send</button>\n                  </Form>\n              )}\n          </Formik>\n      </div>\n  );\n}\n\n\nexport default MyPosts;","import React from 'react';\nimport { updateNewPostTextCreator, addPostCreator } from '../../../../redux/profileReducer';\nimport MyPosts from './MyPosts';\nimport {connect} from 'react-redux'\n\n\nconst mapStateToProps = (state) => {\n  return {\n    posts: state.profilePage.posts,\n    newPostText: state.profilePage.newPostText\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addPost: (newPostText) => {\n      dispatch(addPostCreator(newPostText));\n    }\n  }\n}\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\n\nexport default MyPostsContainer;","import ProfileInfo from './ProfileInfo/ProfileInfo';\nimport MyPostsContainer from './MyProsts/Post/MyPostsContainer';\n\n\nconst Profile = (props) => {\n    return (\n      <div>\n        <ProfileInfo profile={props.profile} statusText={props.statusText} updateStatusText={props.updateStatusText}/>\n        <MyPostsContainer \n          store={props.store}\n        />\n    </div>\n    )\n}\n\nexport default Profile;","import React from 'react';\nimport Profile from './Profile';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport {setUserProfileCreator, setUserProfileThunkCreator, getStatusTextThunkCreator, updateStatusTextThunkCreator} from '../../redux/profileReducer'\nimport {Navigate, useLocation, useNavigate, useParams} from 'react-router-dom'\nimport { usersAPI } from '../../api/Api';\nimport { WithAuthRedirect } from '../../hoc/WithAuthRedirect';\nimport { compose } from 'redux';\n\n// wrapper to use react router's v6 hooks in class component(to use HOC pattern, like in router v5)\nfunction withRouter(Component) {\n  return(props) => {\n      const match = {params: useParams()}\n      return (\n          <Component\n              {...props}\n              router={match}\n          />\n      );\n  }\n\n}\n\nclass ProfileContainer extends React.Component {\n\ncomponentDidMount() {\n  let userId = this.props.router.params.userId;\n  if(!userId) {\n    userId = 27158;\n  }\n  this.props.setUserProfile(userId)\n  this.props.getStatusText(userId)\n}\n\nrender() {\n  return (\n      <Profile {...this.props} profile={this.props.profile} statusText={this.props.statusText} updateStatusText={this.props.updateStatusText}/>      \n  )}\n}\n\nconst mapStateToProps = (state) => ({\n  profile: state.profilePage.profile,\n  statusText: state.profilePage.statusText\n})\n\nexport default compose(\n  connect(mapStateToProps, {setUserProfile: setUserProfileThunkCreator, getStatusText: getStatusTextThunkCreator, updateStatusText: updateStatusTextThunkCreator}),\n  withRouter,\n  WithAuthRedirect)\n  (ProfileContainer)\n\n\n"],"names":["ProfileStatus","state","editMode","activateEditMode","setState","statusText","props","deactivateEditMode","updateStatusText","onStatusTextChange","e","currentTarget","value","prevProps","prevState","this","status","onClick","onChange","autoFocus","onBlur","React","profile","className","classes","src","photos","large","alt","Preloader","message","Yup","shape","newPostText","min","max","required","AddNewPostForm","initialValues","validate","values","errors","onSubmit","addPost","onAddPost","validationSchema","addNewPostFormSchema","type","name","placeholder","component","postsElements","posts","map","p","likesCount","connect","profilePage","dispatch","addPostCreator","MyPosts","store","ProfileContainer","userId","router","params","setUserProfile","getStatusText","compose","setUserProfileThunkCreator","getStatusTextThunkCreator","updateStatusTextThunkCreator","Component","match","useParams","WithAuthRedirect"],"sourceRoot":""}