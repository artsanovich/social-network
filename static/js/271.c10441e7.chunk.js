"use strict";(self.webpackChunksocial=self.webpackChunksocial||[]).push([[271],{4271:function(e,r,n){n.r(r),n.d(r,{default:function(){return m}});var s=n(9439),t=n(3211),c=n(8775),i=n(2791),u=n(8687),a=n(2140),o="ChatPage_messages__fwl3z",l="ChatPage_messageInput__OahDJ",d=n(7332),h=n(184),f=function(){var e=(0,u.I0)(),r=(0,u.v9)((function(e){return e.chat.status}));return(0,i.useEffect)((function(){return e((0,a.Lw)()),function(){e((0,a.jp)())}}),[]),(0,h.jsxs)("div",{children:["error"===r&&(0,h.jsx)("div",{children:"Some error occured. Please refresh page."}),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(v,{}),(0,h.jsx)(x,{})]})]})},v=function(){var e=(0,u.v9)((function(e){return e.chat.messages})),r=(0,i.useRef)(null),n=(0,i.useState)(!1),t=(0,s.Z)(n,2),c=t[0],a=t[1];return(0,i.useEffect)((function(){var e;c&&(null===(e=r.current)||void 0===e||e.scrollIntoView({block:"end",behavior:"smooth"}))}),[e]),(0,h.jsxs)("div",{className:o,onScroll:function(e){var r=e.currentTarget;Math.abs(r.scrollHeight-r.scrollTop-r.clientHeight)<1e3?!c&&a(!0):c&&a(!1)},children:[e.map((function(e){return(0,h.jsx)(j,{message:e},e.id)})),(0,h.jsx)("div",{ref:r})]})},j=(0,i.memo)((function(e){var r=e.message;return(0,h.jsxs)("div",{children:[(0,h.jsx)(t.C,{src:r.photo,style:{width:"30px"}})," ",(0,h.jsx)("b",{children:r.userName}),(0,h.jsx)("br",{}),r.message,(0,h.jsx)("hr",{})]})})),x=function(){var e=(0,u.v9)((function(e){return e.chat.status})),r=(0,u.I0)(),n=(0,i.useState)(""),t=(0,s.Z)(n,2),o=t[0],f=t[1];return(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:(0,h.jsx)(d.Z,{onChange:function(e){return f(e.currentTarget.value)},value:o,autoSize:!0,className:l})}),(0,h.jsx)("div",{children:(0,h.jsx)(c.ZP,{type:"primary",onClick:function(){o&&(r((0,a.q2)(o)),f(""))},disabled:"ready"!==e,children:"Send"})})]})},m=function(){return(0,h.jsx)("div",{children:(0,h.jsx)(f,{})})}}}]);
//# sourceMappingURL=271.c10441e7.chunk.js.map